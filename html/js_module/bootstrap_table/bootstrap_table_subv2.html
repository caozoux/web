<html>
<head>
<link rel="stylesheet" href="/home/zoucao/css/base.css"/>
<link rel="stylesheet" href="/home/zoucao/github/web/dist/bootstrap/css/bootstrap.css"/>
<link rel="stylesheet" href="/home/zoucao/github/web/dist/bootstrap/css/bootstrap-multiselect.css"/>
<link rel="stylesheet" href="/home/zoucao/github/web/dist/bootstrap/css/bootstrap-table.css"/>
<script type="text/javascript" src="/home/zoucao/github/web/dist/jquery/jQuery-2.2.0.min.js"></script>
<script type="text/javascript" src="/home/zoucao/github/web/dist/bootstrap/js/bootstrap.js"></script>
<script type="text/javascript" src="/home/zoucao/github/web/dist/bootstrap/js/bootstrap-multiselect.js"></script>
<script type="text/javascript" src="/home/zoucao/github/web/dist/bootstrap/js/bootstrap-table.js"></script>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript">
</script>
</head>

<body>
<div id="toolbar">
  <button id="remove" class="btn btn-danger" disabled>
    <i class="glyphicon glyphicon-remove"></i> Delete
  </button>
</div>
<table id="table">
</table>

<script type="text/javascript">
  var $table = $('#table')
  var $remove = $('#remove')
  var selections = []
  console.log("#table call bootstrapTable")

  function getIdSelections() {
    return $.map($table.bootstrapTable('getSelections'), function (row) {
      return row.id
    })
  }

  function responseHandler(res) {
    $.each(res.rows, function (i, row) {
      row.state = $.inArray(row.id, selections) !== -1
    })
    return res
  }

  function detailFormatter(index, row) {
    //var html = []
    //$.each(row, function (key, value) {
    //  html.push('<p><b>' + key + ':</b> ' + value + '</p>')
    //})
    //return html.join('')
	    var html = "";
		html += "<table class='table'>";
		html += "<thead>";
		html += "<tr style='height: 40px;'>";
		html += "<th>akid</th>";
		html += "<th>baoming</th>";
		html += "<th>xiazailianjie</th>";
		html += "</tr>";
		html += "</thead>";
    	return html
  }

  window.operateEvents = {
    'click .like': function (e, value, row, index) {
      alert('You click like action, row: ' + JSON.stringify(row))
    },
    'click .remove': function (e, value, row, index) {
      $table.bootstrapTable('remove', {
        field: 'id',
        values: [row.id]
      })
    }
  }


  function initTable() {
    $table.bootstrapTable({
      height: 500,
      columns: [{
          title: 'Item ID',
          field: 'id',
          align: 'center',
        },
		{
          title: 'Item Detail',
          field: 'kervel',
          align: 'center'
        },
      ],
	  toolbar:"#toolbar",
	  search:true,
	  showRefresh:true,
	  showToggle:true,
	  showColumns:true,
	  showExport:true,
	  detailView:true,
	  detailFormatter:"detailFormatter",
	  minimumCountColumns:"2",
	  showPaginationSwitch:true,
	  pagination:true,
	  idField:"id",
	  pageList:"[10, 25, 50, 100, ALL]",
	  showFooter:false,
	  sidePagination:"server",
	  url:"https://examples.wenzhixin.net.cn/examples/bootstrap_table/data",
	  responseHandler:"responseHandler",
      onExpandRow: function(index, row, $detail) {
		  console.log("sub")
      },
    })
  }

  $(function() {
    initTable()
  })
</script>
</body>

</html> 
